"use strict";(self["webpackChunkvuedemo"]=self["webpackChunkvuedemo"]||[]).push([[322],{9054:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"banner-setting"},[t("div",{staticClass:"handler-box"},[t("el-button",{attrs:{round:!0,type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.triggerAdd}},[e._v(" 增加 ")]),t("el-popconfirm",{attrs:{title:"确定要删除这些选中的数据吗？"},on:{confirm:e.deleteMultiSelectoins}},[t("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"small",round:!0},slot:"reference"},[e._v(" 批量删除 ")])],1)],1),t("table-again",{ref:"tableIns",attrs:{query:e.queryTableData,pageSize:10,selectionChange:e.selectionChange}},[t("el-table-column",{attrs:{label:"轮播图",width:"200px","min-width":"30%"},scopedSlots:e._u([{key:"default",fn:function({row:e}){return[t("el-image",{attrs:{src:e.carouselUrl,"preview-src-list":[e.carouselUrl]}})]}}])}),t("el-table-column",{attrs:{label:"跳转连接","min-width":"15%",prop:"redirectUrl"}}),t("el-table-column",{attrs:{label:"排序值",width:"120px","min-width":"15%",align:"center",prop:"carouselRank"}}),t("el-table-column",{attrs:{label:"添加时间",width:"200px","min-width":"20%",formatter:e.formatterTime}}),t("el-table-column",{attrs:{label:"操作",width:"100px","min-width":"20%"},scopedSlots:e._u([{key:"default",fn:function({row:r}){return[t("el-link",{attrs:{type:"success"},on:{click:function(t){return e.triggerUpdate(r)}}},[e._v("修改")]),t("el-popconfirm",{attrs:{title:"确定要删除本条数据吗？"},on:{confirm:function(t){return e.triggerDelete(r.carouselId)}}},[t("el-link",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),t("el-dialog",{attrs:{width:"400px",title:(e.addUpdateForm.carouselId?"修改":"新增")+"轮播图",visible:e.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.closeDialog},scopedSlots:e._u([{key:"footer",fn:function(){return[t("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),t("button-again",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认")])]},proxy:!0}])},[t("el-form",{ref:"formIns",attrs:{"label-width":"100px",model:e.addUpdateForm,rules:e.addUpdateFormRules}},[t("el-form-item",{attrs:{label:"图片",prop:"carouselUrl"}},[t("el-upload",{staticClass:"avatar-uploader",attrs:{action:"/api/upload/file",accept:".jpg,.jpeg,.png,.gif",headers:{token:e.token},"before-upload":e.beforeUpload,"on-success":e.successUpload,"on-error":e.errorUpload,"show-file-list":!1,multiple:!1}},[e.addUpdateForm.carouselUrl?t("img",{staticClass:"avatar-uploader-img",attrs:{src:e.addUpdateForm.carouselUrl,alt:""}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),t("el-form-item",{attrs:{label:"跳转连接",prop:"redirectUrl"}},[t("el-input",{model:{value:e.addUpdateForm.redirectUrl,callback:function(t){e.$set(e.addUpdateForm,"redirectUrl","string"===typeof t?t.trim():t)},expression:"addUpdateForm.redirectUrl"}})],1),t("el-form-item",{attrs:{required:!0,label:"排序值",prop:"carouselRank"}},[t("el-input-number",{attrs:{min:1},model:{value:e.addUpdateForm.carouselRank,callback:function(t){e.$set(e.addUpdateForm,"carouselRank",t)},expression:"addUpdateForm.carouselRank"}})],1)],1)],1)],1)},i=[],l=r(6280),s=r.n(l),a={name:"banner-setting",data(){const e=(e,t,r)=>{let o=/^(((ht|f)tps?):\/\/)?([^!@#$%^&*?.\s-]([^!@#$%^&*?.\s]{0,63}[^!@#$%^&*?.\s])?\.)+[a-z]{2,6}\/?/;if(!o.test(t))return r(new Error("输入的网址不符合规则"));r()},t=(e,t,r)=>{if(t>200||t<1)return r(new Error("排序值的范围：1~200之间"));r()};return{visible:!1,addUpdateForm:{carouselId:null,carouselUrl:"",redirectUrl:"",carouselRank:1},addUpdateFormRules:{carouselUrl:[{required:!0,trigger:"blur",message:"请先上传图片"}],redirectUrl:[{required:!0,trigger:"blur",message:"跳转地址不能为空"},{validator:e,trigger:"blur"}],carouselRank:[{required:!0,trigger:"blur",message:"排序值不能为空"},{validator:t,trigger:"blur"}]},token:s().storage.get("NB_TK"),selections:[]}},methods:{async queryTableData(e,t){let r=[],o=0;try{let{resultCode:i,data:l}=await this.$api.carousels.queryCarouselsList(e,t);200===+i&&(o=+l.totalCount,r=l.list)}catch(i){console.log(i)}return{list:r,totalCount:o}},formatterTime(e){let{createTime:t}=e;return s().formatTime(t,"{0}年{1}月{2}日")},async submit(){console.log("submit");try{await this.$refs.formIns.validate();let e=this.addUpdateForm.carouselId,t=this.$api.carousels.insertCarousels;e&&(console.log("修改"),t=this.$api.carousels.updateCarousels);let{resultCode:r}=await t(this.addUpdateForm);200!==+r?this.$message.error((this.addUpdateForm.carouselId?"修改":"新增")+"失败，请稍后再试~"):(this.$message.success((this.addUpdateForm.carouselId?"修改":"新增")+"成功"),this.closeDialog(),this.$refs.tableIns.refresh())}catch(e){console.log("submit error",e)}},closeDialog(){this.visible=!1,this.$refs["formIns"].resetFields()},beforeUpload(e){console.log("file",e);let{size:t}=e;return!(t>1048576)||(this.$message.warning("上传的文件不能大于1MB"),!1)},successUpload(e){console.log(e);let{resultCode:t,data:r}=e;if(200===+t)return this.addUpdateForm.carouselUrl=r,void console.log("successUpload");this.$message.error("图片上传失败，请稍后再试")},errorUpload(e){console.log(e)},triggerAdd(){this.visible=!0,this.addUpdateForm.carouselId=null},triggerUpdate(e){let{carouselId:t,carouselUrl:r,redirectUrl:o,carouselRank:i}=e;this.visible=!0,this.$nextTick((()=>{this.addUpdateForm={carouselUrl:r,redirectUrl:o,carouselRank:i,carouselId:t}}))},async triggerDelete(e){try{let{resultCode:t,data:r}=await this.$api.carousels.deleteCarousels(e);if(200!==+t)return console.log("data",r),void this.$message.error("删除失败，请稍后重试");this.$message.success("删除成功"),this.$refs.tableIns.refresh()}catch(t){console.log("triggerDeleta error",t)}},deleteMultiSelectoins(){let e=this.selections;console.log("selections in deleteMultiSelectoins",e),0!==e.length?this.triggerDelete(e):this.$message.warning("请至少选择一项")},selectionChange(e){this.selections=e.map((e=>e.carouselId)),console.log(this.selections)}}},n=a,c=r(1001),d=(0,c.Z)(n,o,i,!1,null,"5b9ed568",null),f=d.exports},9451:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"goods-setting"},[t("div",{staticClass:"handler-box"},[t("el-button",{attrs:{round:!0,type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.triggerAdd}},[e._v(" 增加 ")]),t("el-popconfirm",{attrs:{title:"确定要删除这些选中的数据吗？"},on:{confirm:e.deleteMultiSelectoins}},[t("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"small",round:!0},slot:"reference"},[e._v(" 批量删除 ")])],1)],1),t("table-again",{ref:"tableIns",attrs:{query:e.queryTableData,pageSize:10,selectionChange:e.selectionChange}},[t("el-table-column",{attrs:{label:"商品名称","min-width":"33%",prop:"configName"}}),t("el-table-column",{attrs:{label:"跳转连接","min-width":"33%",prop:"redirectUrl"}}),t("el-table-column",{attrs:{label:"排序值","min-width":"33%",prop:"configRank"}}),t("el-table-column",{attrs:{label:"商品编号",width:"130px","min-width":"20%",prop:"goodsId"}}),t("el-table-column",{attrs:{label:"添加时间",width:"170px","min-width":"20%",prop:"createTime",formatter:e.formatterTime}}),t("el-table-column",{attrs:{label:"操作",width:"100px","min-width":"20%"},scopedSlots:e._u([{key:"default",fn:function({row:r}){return[t("el-link",{attrs:{type:"success"},on:{click:function(t){return e.triggerUpdate(r)}}},[e._v("修改")]),t("el-popconfirm",{attrs:{title:"确定要删除本条数据吗？"},on:{confirm:function(t){return e.triggerDelete(r.configId)}}},[t("el-link",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),t("el-dialog",{attrs:{width:"400px",title:(e.formData.configId?"修改":"添加")+"商品",visible:e.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.closeDialog},scopedSlots:e._u([{key:"footer",fn:function(){return[t("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),t("button-again",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认")])]},proxy:!0}])},[t("el-form",{ref:"formIns",attrs:{"label-width":"100px",model:e.formData,rules:e.formRules}},[t("el-form-item",{attrs:{label:"商品名称",prop:"configName"}},[t("el-input",{model:{value:e.formData.configName,callback:function(t){e.$set(e.formData,"configName","string"===typeof t?t.trim():t)},expression:"formData.configName"}})],1),t("el-form-item",{attrs:{label:"跳转连接",prop:"redirectUrl"}},[t("el-input",{model:{value:e.formData.redirectUrl,callback:function(t){e.$set(e.formData,"redirectUrl","string"===typeof t?t.trim():t)},expression:"formData.redirectUrl"}})],1),t("el-form-item",{attrs:{label:"商品编号",prop:"goodsId"}},[t("el-input",{model:{value:e.formData.goodsId,callback:function(t){e.$set(e.formData,"goodsId","string"===typeof t?t.trim():t)},expression:"formData.goodsId"}})],1),t("el-form-item",{attrs:{label:"排序值",prop:"configRank"}},[t("el-input-number",{attrs:{min:1},model:{value:e.formData.configRank,callback:function(t){e.$set(e.formData,"configRank",t)},expression:"formData.configRank"}})],1)],1)],1)],1)},i=[],l=r(6280),s=r.n(l),a={name:"goods-setting",data(){const e=(e,t,r)=>{if(t>200||t<1)return r(new Error("排序值的范围：1~200之间"));r()};return{visible:!1,configType:3,formData:{configName:"",configRank:"",configType:3,goodsId:"",redirectUrl:"",configId:null},formRules:{configName:[{required:!0,trigger:"blur",message:"商品名称不能为空"}],goodsId:[{required:!0,trigger:"blur",message:"商品编号不能为空"}],configRank:[{required:!0,trigger:"blur",message:"排序值不能为空"},{validator:e,trigger:"blur"}]},selections:[]}},methods:{async queryTableData(e,t,r){r=this.configType;let o=[],i=0;try{let{resultCode:l,data:s}=await this.$api.indexConfigs.queryIndexConfigsList(e,t,r);200===+l&&(i=+s.totalCount,o=s.list)}catch(l){console.log(l)}return{list:o,totalCount:i}},formatterTime(e){let{createTime:t}=e;return s().formatTime(t,"{0}年{1}月{2}日")},async submit(){console.log("submit");try{await this.$refs.formIns.validate();let e=this.formData.configId,t=this.$api.indexConfigs.insertIndexConfigs;e&&(console.log("修改"),t=this.$api.indexConfigs.updateIndexConfigs);let{resultCode:r}=await t(this.formData);200!==+r?this.$message.error((this.formData.configId?"修改":"新增")+"失败，请稍后再试~"):(this.$message.success((this.formData.configId?"修改":"新增")+"成功"),this.closeDialog(),this.$refs.tableIns.refresh())}catch(e){console.log("submit-error-in-hotgoods=>",e)}},triggerAdd(){this.visible=!0,this.formData.configId=null},triggerUpdate(e){let{configName:t,configRank:r,configId:o,configType:i,goodsId:l,redirectUrl:s}=e;this.visible=!0,this.$nextTick((()=>{this.formData={configName:t,redirectUrl:s,configRank:r,goodsId:l,configId:o,configType:i}}))},async triggerDelete(e){try{let{resultCode:t}=await this.$api.indexConfigs.deleteIndexConfigs(e);if(200!==+t)return void this.$message.error("删除失败，请稍后重试");this.$message.success("删除成功"),this.$refs.tableIns.refresh()}catch(t){console.log("triggerDelete error",t)}},closeDialog(){this.visible=!1,this.$refs.formIns.resetFields()},deleteMultiSelectoins(){let e=this.selections;console.log("selections in deleteMultiSelectoins",e),0!==e.length?this.triggerDelete(e):this.$message.warning("请至少选择一项")},selectionChange(e){this.selections=e.map((e=>e.configId)),console.log(this.selections)}}},n=a,c=r(1001),d=(0,c.Z)(n,o,i,!1,null,"fbc61cd6",null),f=d.exports},4790:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"product-setting"},[t("div",{staticClass:"handler-box"},[t("el-button",{attrs:{round:!0,type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.triggerAdd}},[e._v(" 增加 ")]),t("el-popconfirm",{attrs:{title:"确定要删除这些选中的数据吗？"},on:{confirm:e.deleteMultiSelectoins}},[t("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"small",round:!0},slot:"reference"},[e._v(" 批量删除 ")])],1)],1),t("table-again",{ref:"tableIns",attrs:{query:e.queryTableData,pageSize:10,selectionChange:e.selectionChange}},[t("el-table-column",{attrs:{label:"商品名称","min-width":"33%",prop:"configName"}}),t("el-table-column",{attrs:{label:"跳转连接","min-width":"33%",prop:"redirectUrl"}}),t("el-table-column",{attrs:{label:"排序值","min-width":"33%",prop:"configRank"}}),t("el-table-column",{attrs:{label:"商品编号",width:"130px","min-width":"20%",prop:"goodsId"}}),t("el-table-column",{attrs:{label:"添加时间",width:"170px","min-width":"20%",prop:"createTime",formatter:e.formatterTime}}),t("el-table-column",{attrs:{label:"操作",width:"100px","min-width":"20%"},scopedSlots:e._u([{key:"default",fn:function({row:r}){return[t("el-link",{attrs:{type:"success"},on:{click:function(t){return e.triggerUpdate(r)}}},[e._v("修改")]),t("el-popconfirm",{attrs:{title:"确定要删除本条数据吗？"},on:{confirm:function(t){return e.triggerDelete(r.configId)}}},[t("el-link",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),t("el-dialog",{attrs:{width:"400px",title:(e.formData.configId?"修改":"添加")+"商品",visible:e.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.closeDialog},scopedSlots:e._u([{key:"footer",fn:function(){return[t("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),t("button-again",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认")])]},proxy:!0}])},[t("el-form",{ref:"formIns",attrs:{"label-width":"100px",model:e.formData,rules:e.formRules}},[t("el-form-item",{attrs:{label:"商品名称",prop:"configName"}},[t("el-input",{model:{value:e.formData.configName,callback:function(t){e.$set(e.formData,"configName","string"===typeof t?t.trim():t)},expression:"formData.configName"}})],1),t("el-form-item",{attrs:{label:"跳转连接",prop:"redirectUrl"}},[t("el-input",{model:{value:e.formData.redirectUrl,callback:function(t){e.$set(e.formData,"redirectUrl","string"===typeof t?t.trim():t)},expression:"formData.redirectUrl"}})],1),t("el-form-item",{attrs:{label:"商品编号",prop:"goodsId"}},[t("el-input",{model:{value:e.formData.goodsId,callback:function(t){e.$set(e.formData,"goodsId","string"===typeof t?t.trim():t)},expression:"formData.goodsId"}})],1),t("el-form-item",{attrs:{label:"排序值",prop:"configRank"}},[t("el-input-number",{attrs:{min:1},model:{value:e.formData.configRank,callback:function(t){e.$set(e.formData,"configRank",t)},expression:"formData.configRank"}})],1)],1)],1)],1)},i=[],l=r(6280),s=r.n(l),a={name:"product-setting",data(){const e=(e,t,r)=>{if(t>200||t<1)return r(new Error("排序值的范围：1~200之间"));r()};return{visible:!1,configType:4,formData:{configName:"",configRank:"",configType:4,goodsId:"",redirectUrl:"",configId:null},formRules:{configName:[{required:!0,trigger:"blur",message:"商品名称不能为空"}],goodsId:[{required:!0,trigger:"blur",message:"商品编号不能为空"}],configRank:[{required:!0,trigger:"blur",message:"排序值不能为空"},{validator:e,trigger:"blur"}]},selections:[]}},methods:{async queryTableData(e,t,r){r=this.configType;let o=[],i=0;try{let{resultCode:l,data:s}=await this.$api.indexConfigs.queryIndexConfigsList(e,t,r);200===+l&&(i=+s.totalCount,o=s.list)}catch(l){console.log(l)}return{list:o,totalCount:i}},formatterTime(e){let{createTime:t}=e;return s().formatTime(t,"{0}年{1}月{2}日")},async submit(){console.log("submit");try{await this.$refs.formIns.validate();let e=this.formData.configId,t=this.$api.indexConfigs.insertIndexConfigs;e&&(console.log("修改"),t=this.$api.indexConfigs.updateIndexConfigs);let{resultCode:r}=await t(this.formData);200!==+r?this.$message.error((this.formData.configId?"修改":"新增")+"失败，请稍后再试~"):(this.$message.success((this.formData.configId?"修改":"新增")+"成功"),this.closeDialog(),this.$refs.tableIns.refresh())}catch(e){console.log("submit-error-in-hotgoods=>",e)}},triggerAdd(){this.visible=!0,this.formData.configId=null},triggerUpdate(e){let{configName:t,configRank:r,configId:o,configType:i,goodsId:l,redirectUrl:s}=e;this.visible=!0,this.$nextTick((()=>{this.formData={configName:t,redirectUrl:s,configRank:r,goodsId:l,configId:o,configType:i}}))},async triggerDelete(e){try{let{resultCode:t}=await this.$api.indexConfigs.deleteIndexConfigs(e);if(200!==+t)return void this.$message.error("删除失败，请稍后重试");this.$message.success("删除成功"),this.$refs.tableIns.refresh()}catch(t){console.log("triggerDelete error",t)}},closeDialog(){this.visible=!1,this.$refs.formIns.resetFields()},deleteMultiSelectoins(){let e=this.selections;console.log("selections in deleteMultiSelectoins",e),0!==e.length?this.triggerDelete(e):this.$message.warning("请至少选择一项")},selectionChange(e){this.selections=e.map((e=>e.configId)),console.log(this.selections)}}},n=a,c=r(1001),d=(0,c.Z)(n,o,i,!1,null,"24d2f5c2",null),f=d.exports},4255:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"recommend-setting"},[t("div",{staticClass:"handler-box"},[t("el-button",{attrs:{round:!0,type:"primary",icon:"el-icon-plus",size:"small"},on:{click:e.triggerAdd}},[e._v(" 增加 ")]),t("el-popconfirm",{attrs:{title:"确定要删除这些选中的数据吗？"},on:{confirm:e.deleteMultiSelectoins}},[t("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"small",round:!0},slot:"reference"},[e._v(" 批量删除 ")])],1)],1),t("table-again",{ref:"tableIns",attrs:{query:e.queryTableData,pageSize:10,selectionChange:e.selectionChange}},[t("el-table-column",{attrs:{label:"商品名称","min-width":"33%",prop:"configName"}}),t("el-table-column",{attrs:{label:"跳转连接","min-width":"33%",prop:"redirectUrl"}}),t("el-table-column",{attrs:{label:"排序值","min-width":"33%",prop:"configRank"}}),t("el-table-column",{attrs:{label:"商品编号",width:"130px","min-width":"20%",prop:"goodsId"}}),t("el-table-column",{attrs:{label:"添加时间",width:"170px","min-width":"20%",prop:"createTime",formatter:e.formatterTime}}),t("el-table-column",{attrs:{label:"操作",width:"100px","min-width":"20%"},scopedSlots:e._u([{key:"default",fn:function({row:r}){return[t("el-link",{attrs:{type:"success"},on:{click:function(t){return e.triggerUpdate(r)}}},[e._v("修改")]),t("el-popconfirm",{attrs:{title:"确定要删除本条数据吗？"},on:{confirm:function(t){return e.triggerDelete(r.configId)}}},[t("el-link",{attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),t("el-dialog",{attrs:{width:"400px",title:(e.formData.configId?"修改":"添加")+"商品",visible:e.visible,"close-on-click-modal":!1,"close-on-press-escape":!1,"before-close":e.closeDialog},scopedSlots:e._u([{key:"footer",fn:function(){return[t("el-button",{on:{click:e.closeDialog}},[e._v("取消")]),t("button-again",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确认")])]},proxy:!0}])},[t("el-form",{ref:"formIns",attrs:{"label-width":"100px",model:e.formData,rules:e.formRules}},[t("el-form-item",{attrs:{label:"商品名称",prop:"configName"}},[t("el-input",{model:{value:e.formData.configName,callback:function(t){e.$set(e.formData,"configName","string"===typeof t?t.trim():t)},expression:"formData.configName"}})],1),t("el-form-item",{attrs:{label:"跳转连接",prop:"redirectUrl"}},[t("el-input",{model:{value:e.formData.redirectUrl,callback:function(t){e.$set(e.formData,"redirectUrl","string"===typeof t?t.trim():t)},expression:"formData.redirectUrl"}})],1),t("el-form-item",{attrs:{label:"商品编号",prop:"goodsId"}},[t("el-input",{model:{value:e.formData.goodsId,callback:function(t){e.$set(e.formData,"goodsId","string"===typeof t?t.trim():t)},expression:"formData.goodsId"}})],1),t("el-form-item",{attrs:{label:"排序值",prop:"configRank"}},[t("el-input-number",{attrs:{min:1},model:{value:e.formData.configRank,callback:function(t){e.$set(e.formData,"configRank",t)},expression:"formData.configRank"}})],1)],1)],1)],1)},i=[],l=r(6280),s=r.n(l),a={name:"recommend-setting",data(){const e=(e,t,r)=>{if(t>200||t<1)return r(new Error("排序值的范围：1~200之间"));r()};return{visible:!1,configType:5,formData:{configName:"",configRank:"",configType:5,goodsId:"",redirectUrl:"",configId:null},formRules:{configName:[{required:!0,trigger:"blur",message:"商品名称不能为空"}],goodsId:[{required:!0,trigger:"blur",message:"商品编号不能为空"}],configRank:[{required:!0,trigger:"blur",message:"排序值不能为空"},{validator:e,trigger:"blur"}]},selections:[]}},methods:{async queryTableData(e,t,r){r=this.configType;let o=[],i=0;try{let{resultCode:l,data:s}=await this.$api.indexConfigs.queryIndexConfigsList(e,t,r);200===+l&&(i=+s.totalCount,o=s.list)}catch(l){console.log(l)}return{list:o,totalCount:i}},formatterTime(e){let{createTime:t}=e;return s().formatTime(t,"{0}年{1}月{2}日")},async submit(){console.log("submit");try{await this.$refs.formIns.validate();let e=this.formData.configId,t=this.$api.indexConfigs.insertIndexConfigs;e&&(console.log("修改"),t=this.$api.indexConfigs.updateIndexConfigs);let{resultCode:r}=await t(this.formData);200!==+r?this.$message.error((this.formData.configId?"修改":"新增")+"失败，请稍后再试~"):(this.$message.success((this.formData.configId?"修改":"新增")+"成功"),this.closeDialog(),this.$refs.tableIns.refresh())}catch(e){console.log("submit-error-in-hotgoods=>",e)}},triggerAdd(){this.visible=!0,this.formData.configId=null},triggerUpdate(e){let{configName:t,configRank:r,configId:o,configType:i,goodsId:l,redirectUrl:s}=e;this.visible=!0,this.$nextTick((()=>{this.formData={configName:t,redirectUrl:s,configRank:r,goodsId:l,configId:o,configType:i}}))},async triggerDelete(e){try{let{resultCode:t}=await this.$api.indexConfigs.deleteIndexConfigs(e);if(200!==+t)return void this.$message.error("删除失败，请稍后重试");this.$message.success("删除成功"),this.$refs.tableIns.refresh()}catch(t){console.log("triggerDelete error",t)}},closeDialog(){this.visible=!1,this.$refs.formIns.resetFields()},deleteMultiSelectoins(){let e=this.selections;console.log("selections in deleteMultiSelectoins",e),0!==e.length?this.triggerDelete(e):this.$message.warning("请至少选择一项")},selectionChange(e){this.selections=e.map((e=>e.configId)),console.log(this.selections)}}},n=a,c=r(1001),d=(0,c.Z)(n,o,i,!1,null,"2a08447e",null),f=d.exports}}]);